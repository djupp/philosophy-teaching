---
title: 'Statistics Lecture 2: Quantitative Data'
author: "Manuel Kappler"
date: "`r Sys.Date()`"
output: html_document
---

```{r, include=FALSE}
setwd("~/Semester/Teaching/Stats101/Lecture 2")
#knitr::opts_chunk$set(dev='svg')
```

We'll work with our own earthquake data, from earthquake.usgs.gov. I downloaded a Comma-Separated Value table with all the earthquakes for March 2015.

# Preparation

Let's read the file:
```{r}
earthquakes=read.csv("earthquakes.csv", header=TRUE) # reads a CSV file into a data frame
summary(earthquakes) # Gives summary statistics for all the values in the data frame
```

# Graphs
## Histograms
```{r}
hist(earthquakes$mag)
```

## Stem and Leaf
```{r}
stem(earthquakes$mag)
```

## Dotplots
```{r}
dotchart(earthquakes$mag)
```

## Boxplots
```{r}
boxplot(earthquakes$mag)
```

# Shapes
## Modes
### Uniform
  We can generate data that is uniform:
```{r}
x = runif(1000) # Generate 1000 [R]andom [Unif]orm numbers
hist(x) # Plot a histogram
```

### Unimodal
  The most common unimodal distribution is the _Normal_ distribution:

```{r, fig.width=4,fig.height=4,fig.align='center'}
x = rnorm(1000,100,15) # Generate 1000 [R]andom [Norm]al numbers 
# with mean 100 and SD 15 (Does that remind you of something?)
hist(x) # Default Histogram
hist(x, breaks=100) # This time with more bins
```

### Bimodal
Is generated by, for example, adding two normal distributions with different means:

```{r}
x1 = rnorm(1000,0,15)
x2 = rnorm(1000,50,15)
hist(c(x1,x2))
```

### Multimodal
Same thing as Bimodal, just with more distributions added:

```{r}
x1 = rnorm(1000,0,15)
x2 = rnorm(1000,50,5)
x3 = rnorm(1000,-50,5)
hist(c(x1,x2,x3),breaks = 500)
```

# Numerical Description

## Median
```{r}
median(earthquakes$mag)
```

## Spread
### For any data:
  - Range
```{r}
range(earthquakes$mag)
```

  - IQR
```{r}
IQR(earthquakes$mag)
```

  - 5 Numbers
```{r}
fivenum(earthquakes$mag)
```

### For symmetrical data
    - Mean
```{r}
mean(earthquakes$mag)
```

    - Standard Deviation
```{r}
sd(earthquakes$mag)
```

# Calculating by hand

## Mean and Standard Deviation

For the following sets, calculate the mean and the standard deviation:

```{r, echo=FALSE}
questions = array(dim = c(10,6),dimnames=list(seq(1,10),seq(1,6)))
solutions = array(dim = c(10,2),dimnames=list(c(),c("Mean", "SD")))
for(i in seq(1,10)){
    x = round(rnorm(6, runif(1, 0, 100), runif(1, 10, 50)))
    questions[i,]=x
    solutions[i,]=c(mean(x), sd(x))
}
library(pander)
pander(questions)
```

# For fun

Let's do a plot of the latitude and longitude of the earthquake epicenters:

```{r}
plot(earthquakes$longitude, earthquakes$latitude)
```

Here is a prettier version of the same thing. Eventually, I want you to be able to use Google to arrive at solutions for similar problems!

```{r,results='hide', message=FALSE}
library(maps)
library(maptools)
library(ggmap)
mp = NULL
mapWorld = borders("world", colour="gray50", fill="gray50")
mp = ggplot() + mapWorld
mp = mp + geom_point(aes(
  x = earthquakes$longitude,
  y = earthquakes$latitude,
  color = earthquakes$mag))
mp + scale_color_continuous(guide=FALSE)
```
  
# Solutions
```{r}
pander(round(solutions,2))
```